var rough=function(){'use strict';function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,'default')?e['default']:e}function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){var t,n;this.promise=new e(function(e,o){if(t!==void 0||n!==void 0)throw TypeError('Bad Promise constructor');t=e,n=o}),this.resolve=v(t),this.reject=v(n)}function o(){return{LEFT:0,RIGHT:1,INTERSECTS:2,AHEAD:3,BEHIND:4,SEPARATE:5,UNDEFINED:6}}var a=Math.pow,r=Math.cos,l=Math.sin,p=Math.PI,d=Math.sqrt,u=Math.abs,s=Math.max,h=Math.min,c=Math.floor,y=Math.ceil,_=t(function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)}),x=t(function(e){var t=e.exports={version:'2.5.3'};'number'==typeof __e&&(__e=t)}),m=x.version,v=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e},S=function(e,t,n){return(v(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,o){return e.call(t,n,o)}:3===n?function(n,o,a){return e.call(t,n,o,a)}:function(){return e.apply(t,arguments)}},O=function(e){return'object'==typeof e?null!==e:'function'==typeof e},k=function(e){if(!O(e))throw TypeError(e+' is not an object!');return e},R=function(e){try{return!!e()}catch(t){return!0}},T=!R(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),P=_.document,E=O(P)&&O(P.createElement),b=function(e){return E?P.createElement(e):{}},L=!T&&!R(function(){return 7!=Object.defineProperty(b('div'),'a',{get:function(){return 7}}).a}),A=function(e,t){if(!O(e))return e;var n,o;if(t&&'function'==typeof(n=e.toString)&&!O(o=n.call(e)))return o;if('function'==typeof(n=e.valueOf)&&!O(o=n.call(e)))return o;if(!t&&'function'==typeof(n=e.toString)&&!O(o=n.call(e)))return o;throw TypeError('Can\'t convert object to primitive value')},w=Object.defineProperty,C=T?Object.defineProperty:function(e,t,n){if(k(e),t=A(t,!0),k(n),L)try{return w(e,t,n)}catch(t){}if('get'in n||'set'in n)throw TypeError('Accessors not supported!');return'value'in n&&(e[t]=n.value),e},M={f:C},I=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},N=T?function(e,t,n){return M.f(e,t,I(1,n))}:function(e,t,n){return e[t]=n,e},j='prototype',F=function(e,t,n){var o,a,r,i=e&F.F,s=e&F.G,l=e&F.S,p=e&F.P,c=e&F.B,d=e&F.W,u=s?x:x[t]||(x[t]={}),f=u[j],g=s?_:l?_[t]:(_[t]||{})[j];for(o in s&&(n=t),n)a=!i&&g&&void 0!==g[o],a&&o in u||(r=a?g[o]:n[o],u[o]=s&&'function'!=typeof g[o]?n[o]:c&&a?S(r,_):d&&g[o]==r?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n);}return new e(t,n,o)}return e.apply(this,arguments)};return t[j]=e[j],t}(r):p&&'function'==typeof r?S(Function.call,r):r,p&&((u.virtual||(u.virtual={}))[o]=r,e&F.R&&f&&!f[o]&&N(f,o,r)))};F.F=1,F.G=2,F.S=4,F.P=8,F.B=16,F.W=32,F.U=64,F.R=128;var G=F,D={}.hasOwnProperty,z=function(e,t){return D.call(e,t)},U={}.toString,W=function(e){return U.call(e).slice(8,-1)},q=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==W(e)?e.split(''):Object(e)},$=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e},H=function(e){return q($(e))},B=function(e){return isNaN(e=+e)?0:(0<e?c:y)(e)},V=function(e){return 0<e?h(B(e),9007199254740991):0},Y=function(e,t){return e=B(e),0>e?s(e+t,0):h(e,t)},X='__core-js_shared__',K=_[X]||(_[X]={}),Q=function(e){return K[e]||(K[e]={})},Z=0,J=Math.random(),ee=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++Z+J).toString(36))},te=Q('keys'),ne=function(e){return te[e]||(te[e]=ee(e))},oe=function(e){return function(t,n,o){var a,r=H(t),i=V(r.length),s=Y(o,i);if(e&&n!=n){for(;i>s;)if(a=r[s++],a!=a)return!0;}else for(;i>s;s++)if((e||s in r)&&r[s]===n)return e||s||0;return!e&&-1}}(!1),ae=ne('IE_PROTO'),re=function(e,t){var n,o=H(e),a=0,r=[];for(n in o)n!=ae&&z(o,n)&&r.push(n);for(;t.length>a;)z(o,n=t[a++])&&(~oe(r,n)||r.push(n));return r},ie=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],se=Object.keys||function(e){return re(e,ie)},le=Object.getOwnPropertySymbols,pe={f:le},ce={}.propertyIsEnumerable,de={f:ce},ue=function(e){return Object($(e))},fe=Object.assign,ge=!fe||R(function(){var e={},t={},n=Symbol(),o='abcdefghijklmnopqrst';return e[n]=7,o.split('').forEach(function(e){t[e]=e}),7!=fe({},e)[n]||Object.keys(fe({},t)).join('')!=o})?function(e){for(var t=ue(e),n=arguments.length,o=1,a=pe.f,r=de.f;n>o;)for(var i,s=q(arguments[o++]),l=a?se(s).concat(a(s)):se(s),p=l.length,c=0;p>c;)r.call(s,i=l[c++])&&(t[i]=s[i]);return t}:fe;G(G.S+G.F,'Object',{assign:ge});var he=x.Object.assign,ye=t(function(e){e.exports={default:he,__esModule:!0}}),_e=e(ye),xe=function(e,t){return{value:t,done:!!e}},me={},ve=!0,Se=T?Object.defineProperties:function(e,t){k(e);for(var n,o=se(t),a=o.length,r=0;a>r;)M.f(e,n=o[r++],t[n]);return e},Oe=_.document,ke=Oe&&Oe.documentElement,Re=ne('IE_PROTO'),Te=function(){},Pe='prototype',Ee=function(){var e,t=b('iframe'),n=ie.length,o='<',a='>';for(t.style.display='none',ke.appendChild(t),t.src='javascript:',e=t.contentWindow.document,e.open(),e.write(o+'script'+a+'document.F=Object'+o+'/script'+a),e.close(),Ee=e.F;n--;)delete Ee[Pe][ie[n]];return Ee()},be=Object.create||function(e,t){var n;return null===e?n=Ee():(Te[Pe]=k(e),n=new Te,Te[Pe]=null,n[Re]=e),void 0===t?n:Se(n,t)},Le=t(function(e){var t=Q('wks'),n=_.Symbol,o='function'==typeof n,a=e.exports=function(e){return t[e]||(t[e]=o&&n[e]||(o?n:ee)('Symbol.'+e))};a.store=t}),Ae=M.f,we=Le('toStringTag'),Ce=function(e,t,n){e&&!z(e=n?e:e.prototype,we)&&Ae(e,we,{configurable:!0,value:t})},Me={};N(Me,Le('iterator'),function(){return this});var Ie=function(e,t,n){e.prototype=be(Me,{next:I(1,n)}),Ce(e,t+' Iterator')},Ne=ne('IE_PROTO'),Fe=Object.prototype,je=Object.getPrototypeOf||function(e){return e=ue(e),z(e,Ne)?e[Ne]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Fe:null},Ge=Le('iterator'),De=!([].keys&&'next'in[].keys()),ze='keys',Ue='values',We=function(){return this},qe=function(e,t,n,o,a,r,i){Ie(n,t,o);var s,l,p,c=function(e){return!De&&e in g?g[e]:e===ze?function(){return new n(this,e)}:e===Ue?function(){return new n(this,e)}:function(){return new n(this,e)}},d=t+' Iterator',u=a==Ue,f=!1,g=e.prototype,h=g[Ge]||g['@@iterator']||a&&g[a],y=!De&&h||c(a),_=a?u?c('entries'):y:void 0,x='Array'==t?g.entries||h:h;if(x&&(p=je(x.call(new e)),p!==Object.prototype&&p.next&&(Ce(p,d,!0),!ve)),u&&h&&h.name!==Ue&&(f=!0,y=function(){return h.call(this)}),i&&(De||f||!g[Ge])&&N(g,Ge,y),me[t]=y,me[d]=We,a)if(s={values:u?y:c(Ue),keys:r?y:c(ze),entries:_},i)for(l in s)l in g||N(g,l,s[l]);else G(G.P+G.F*(De||f),t,s);return s},$e=qe(Array,'Array',function(e,t){this._t=H(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,xe(1)):'keys'==t?xe(0,n):'values'==t?xe(0,e[n]):xe(0,[n,e[n]])},'values');me.Arguments=me.Array;for(var He=Le('toStringTag'),Be='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(','),Ve=0;Ve<Be.length;Ve++){var i=Be[Ve],Ye=_[i],Xe=Ye&&Ye.prototype;Xe&&!Xe[He]&&N(Xe,He,i),me[i]=me.Array}var Ke=function(e){return function(t,n){var o,a,r=$(t)+'',s=B(n),i=r.length;return 0>s||s>=i?e?'':void 0:(o=r.charCodeAt(s),55296>o||56319<o||s+1===i||56320>(a=r.charCodeAt(s+1))||57343<a?e?r.charAt(s):o:e?r.slice(s,s+2):(o-55296<<10)+(a-56320)+65536)}}(!0);qe(String,'String',function(e){this._t=e+'',this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Ke(t,n),this._i+=e.length,{value:e,done:!1})});var Qe=Le('toStringTag'),Ze='Arguments'==W(function(){return arguments}()),Je=function(e,t){try{return e[t]}catch(t){}},et=function(e){var t,n,o;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(n=Je(t=Object(e),Qe))?n:Ze?W(t):'Object'==(o=W(t))&&'function'==typeof t.callee?'Arguments':o},tt=Le('iterator'),nt=x.getIteratorMethod=function(e){if(e!=void 0)return e[tt]||e['@@iterator']||me[et(e)]},ot=x.getIterator=function(e){var t=nt(e);if('function'!=typeof t)throw TypeError(e+' is not iterable!');return k(t.call(e))},at=t(function(e){e.exports={default:ot,__esModule:!0}}),rt=e(at),it=t(function(e){!function(t){function n(e,t,n,o){var r=t&&t.prototype instanceof a?t:a,i=Object.create(r.prototype),s=new f(o||[]);return i._invoke=p(e,n,s),i}function o(e,t,n){try{return{type:'normal',arg:e.call(t,n)}}catch(e){return{type:'throw',arg:e}}}function a(){}function r(){}function i(){}function s(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,r,i){var s=o(e[n],e,a);if('throw'===s.type)i(s.arg);else{var l=s.arg,p=l.value;return p&&'object'==typeof p&&_.call(p,'__await')?Promise.resolve(p.__await).then(function(e){t('next',e,r,i)},function(e){t('throw',e,r,i)}):Promise.resolve(p).then(function(e){l.value=e,r(l)},i)}}function n(e,n){function o(){return new Promise(function(o,a){t(e,n,o,a)})}return a=a?a.then(o,o):o()}var a;this._invoke=n}function p(e,t,n){var a=k;return function(r,i){if(a===T)throw new Error('Generator is already running');if(a===P){if('throw'===r)throw i;return h()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===E)continue;return l}}if('next'===n.method)n.sent=n._sent=n.arg;else if('throw'===n.method){if(a===k)throw a=P,n.arg;n.dispatchException(n.arg)}else'return'===n.method&&n.abrupt('return',n.arg);a=T;var p=o(e,t,n);if('normal'===p.type){if(a=n.done?P:R,p.arg===E)continue;return{value:p.arg,done:n.done}}'throw'===p.type&&(a=P,n.method='throw',n.arg=p.arg)}}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,c(e,t),'throw'===t.method))return E;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return E}var a=o(n,e.iterator,t.arg);if('throw'===a.type)return t.method='throw',t.arg=a.arg,t.delegate=null,E;var r=a.arg;if(!r)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,E;if(r.done)t[e.resultName]=r.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return r;return t.delegate=null,E}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(d,this),this.reset(!0)}function g(e){if(e){var t=e[m];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(_.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:h}}function h(){return{value:void 0,done:!0}}var y=Object.prototype,_=y.hasOwnProperty,x='function'==typeof Symbol?Symbol:{},m=x.iterator||'@@iterator',v=x.asyncIterator||'@@asyncIterator',S=x.toStringTag||'@@toStringTag',O=t.regeneratorRuntime;if(O)return void(e.exports=O);O=t.regeneratorRuntime=e.exports,O.wrap=n;var k='suspendedStart',R='suspendedYield',T='executing',P='completed',E={},b={};b[m]=function(){return this};var L=Object.getPrototypeOf,A=L&&L(L(g([])));A&&A!==y&&_.call(A,m)&&(b=A);var w=i.prototype=a.prototype=Object.create(b);r.prototype=w.constructor=i,i.constructor=r,i[S]=r.displayName='GeneratorFunction',O.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===r||'GeneratorFunction'===(t.displayName||t.name))},O.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(S in e)&&(e[S]='GeneratorFunction')),e.prototype=Object.create(w),e},O.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[v]=function(){return this},O.AsyncIterator=l,O.async=function(e,t,o,a){var r=new l(n(e,t,o,a));return O.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(w),w[S]='Generator',w[m]=function(){return this},w.toString=function(){return'[object Generator]'},O.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},O.values=g,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(u),!e)for(var t in this)'t'===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return r.type='throw',r.arg=e,n.next=t,o&&(n.method='next',n.arg=void 0),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],r=a.completion;if('root'===a.tryLoc)return t('end');if(a.tryLoc<=this.prev){var i=_.call(a,'catchLoc'),s=_.call(a,'finallyLoc');if(i&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var n,o=this.tryEntries.length-1;0<=o;--o)if(n=this.tryEntries[o],n.tryLoc<=this.prev&&_.call(n,'finallyLoc')&&this.prev<n.finallyLoc){var a=n;break}a&&('break'===e||'continue'===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method='next',this.next=a.finallyLoc,E):this.complete(r)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),E},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),u(t),E},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var o=t.completion;if('throw'===o.type){var a=o.arg;u(t)}return a}throw new Error('illegal catch attempt')},delegateYield:function(e,t,n){return this.delegate={iterator:g(e),resultName:t,nextLoc:n},'next'===this.method&&(this.arg=void 0),E}}}(function(){return this}()||Function('return this')())}),st=function(){return this}()||Function('return this')(),g=st.regeneratorRuntime&&0<=Object.getOwnPropertyNames(st).indexOf('regeneratorRuntime'),lt=g&&st.regeneratorRuntime;st.regeneratorRuntime=void 0;if(g)st.regeneratorRuntime=lt;else try{delete st.regeneratorRuntime}catch(t){st.regeneratorRuntime=void 0}var pt,ct,dt,ut=it,ft=function(e,t,n,o){if(!(e instanceof t)||o!==void 0&&o in e)throw TypeError(n+': incorrect invocation!');return e},gt=function(t,e,n,o){try{return o?e(k(n)[0],n[1]):e(n)}catch(n){var a=t['return'];throw void 0!==a&&k(a.call(t)),n}},ht=Le('iterator'),yt=Array.prototype,_t=function(e){return e!==void 0&&(me.Array===e||yt[ht]===e)},xt=t(function(e){var t={},n={},o=e.exports=function(e,o,a,r,i){var s,l,p,c,d=i?function(){return e}:nt(e),u=S(a,r,o?2:1),f=0;if('function'!=typeof d)throw TypeError(e+' is not iterable!');if(_t(d)){for(s=V(e.length);s>f;f++)if(c=o?u(k(l=e[f])[0],l[1]):u(e[f]),c===t||c===n)return c;}else for(p=d.call(e);!(l=p.next()).done;)if(c=gt(p,u,l.value,o),c===t||c===n)return c};o.BREAK=t,o.RETURN=n}),mt=Le('species'),vt=function(e,t){var n,o=k(e).constructor;return o===void 0||(n=k(o)[mt])==void 0?t:v(n)},St=function(e,t,n){var o=n===void 0;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t)},Ot=_.process,kt=_.setImmediate,Rt=_.clearImmediate,Tt=_.MessageChannel,Pt=_.Dispatch,Et=0,bt={},Lt='onreadystatechange',At=function(){var e=+this;if(bt.hasOwnProperty(e)){var t=bt[e];delete bt[e],t()}},wt=function(e){At.call(e.data)};kt&&Rt||(kt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return bt[++Et]=function(){St('function'==typeof e?e:Function(e),t)},pt(Et),Et},Rt=function(e){delete bt[e]},'process'==W(Ot)?pt=function(e){Ot.nextTick(S(At,e,1))}:Pt&&Pt.now?pt=function(e){Pt.now(S(At,e,1))}:Tt?(ct=new Tt,dt=ct.port2,ct.port1.onmessage=wt,pt=S(dt.postMessage,dt,1)):_.addEventListener&&'function'==typeof postMessage&&!_.importScripts?(pt=function(e){_.postMessage(e+'','*')},_.addEventListener('message',wt,!1)):Lt in b('script')?pt=function(e){ke.appendChild(b('script'))[Lt]=function(){ke.removeChild(this),At.call(e)}}:pt=function(e){setTimeout(S(At,e,1),0)});var Ct={set:kt,clear:Rt},Mt=Ct.set,It=_.MutationObserver||_.WebKitMutationObserver,Nt=_.process,Ft=_.Promise,jt='process'==W(Nt),Gt={f:function(e){return new n(e)}},Dt=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}},zt=function(e,t){if(k(e),O(t)&&t.constructor===e)return t;var n=Gt.f(e),o=n.resolve;return o(t),n.promise},Ut=Le('species'),Wt=Le('iterator'),qt=!1;try{var $t=[7][Wt]();$t['return']=function(){qt=!0}}catch(t){}var Ht,Bt,Vt,Yt,Xt=function(e,t){if(!t&&!qt)return!1;var n=!1;try{var o=[7],a=o[Wt]();a.next=function(){return{done:n=!0}},o[Wt]=function(){return a},e(o)}catch(t){}return n},Kt=Ct.set,Qt=function(){var t,n,o,e=function(){var e,a;for(jt&&(e=Nt.domain)&&e.exit();t;){a=t.fn,t=t.next;try{a()}catch(a){throw t?o():n=void 0,a}}n=void 0,e&&e.enter()};if(jt)o=function(){Nt.nextTick(e)};else if(It&&!(_.navigator&&_.navigator.standalone)){var a=!0,r=document.createTextNode('');new It(e).observe(r,{characterData:!0}),o=function(){r.data=a=!a}}else if(Ft&&Ft.resolve){var i=Ft.resolve();o=function(){i.then(e)}}else o=function(){Mt.call(_,e)};return function(e){var a={fn:e,next:void 0};n&&(n.next=a),t||(t=a,o()),n=a}}(),Zt='Promise',Jt=_.TypeError,en=_.process,tn=_[Zt],nn='process'==et(en),on=function(){},an=Bt=Gt.f,rn=!!function(){try{var e=tn.resolve(1),t=(e.constructor={})[Le('species')]=function(e){e(on,on)};return(nn||'function'==typeof PromiseRejectionEvent)&&e.then(on)instanceof t}catch(t){}}(),sn=function(e){var t;return!!(O(e)&&'function'==typeof(t=e.then))&&t},ln=function(e,t){if(!e._n){e._n=!0;var n=e._c;Qt(function(){for(var o=e._v,a=1==e._s,r=0,i=function(t){var n,r,i=a?t.ok:t.fail,s=t.resolve,l=t.reject,p=t.domain;try{i?(!a&&(2==e._h&&dn(e),e._h=1),!0===i?n=o:(p&&p.enter(),n=i(o),p&&p.exit()),n===t.promise?l(Jt('Promise-chain cycle')):(r=sn(n))?r.call(n,s,l):s(n)):l(o)}catch(t){l(t)}};n.length>r;)i(n[r++]);e._c=[],e._n=!1,t&&!e._h&&pn(e)})}},pn=function(e){Kt.call(_,function(){var t,n,o,a=e._v,r=cn(e);if(r&&(t=Dt(function(){nn?en.emit('unhandledRejection',a,e):(n=_.onunhandledrejection)?n({promise:e,reason:a}):(o=_.console)&&o.error&&o.error('Unhandled promise rejection',a)}),e._h=nn||cn(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},cn=function(e){return 1!==e._h&&0===(e._a||e._c).length},dn=function(e){Kt.call(_,function(){var t;nn?en.emit('rejectionHandled',e):(t=_.onrejectionhandled)&&t({promise:e,reason:e._v})})},un=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),ln(t,!0))},fn=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw Jt('Promise can\'t be resolved itself');(t=sn(e))?Qt(function(){var o={_w:n,_d:!1};try{t.call(e,S(fn,o,1),S(un,o,1))}catch(t){un.call(o,t)}}):(n._v=e,n._s=1,ln(n,!1))}catch(t){un.call({_w:n,_d:!1},t)}}};rn||(tn=function(e){ft(this,tn,Zt,'_h'),v(e),Ht.call(this);try{e(S(fn,this,1),S(un,this,1))}catch(e){un.call(this,e)}},Ht=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Ht.prototype=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:N(e,o,t[o]);return e}(tn.prototype,{then:function(e,t){var n=an(vt(this,tn));return n.ok='function'!=typeof e||e,n.fail='function'==typeof t&&t,n.domain=nn?en.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&ln(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Vt=function(){var e=new Ht;this.promise=e,this.resolve=S(fn,e,1),this.reject=S(un,e,1)},Gt.f=an=function(e){return e===tn||e===Yt?new Vt(e):Bt(e)}),G(G.G+G.W+G.F*!rn,{Promise:tn}),Ce(tn,Zt),function(e){var t='function'==typeof x[e]?x[e]:_[e];T&&t&&!t[Ut]&&M.f(t,Ut,{configurable:!0,get:function(){return this}})}(Zt),Yt=x[Zt],G(G.S+G.F*!rn,Zt,{reject:function(e){var t=an(this),n=t.reject;return n(e),t.promise}}),G(G.S+G.F*ve,Zt,{resolve:function(e){return zt(this===Yt?tn:this,e)}}),G(G.S+G.F*!(rn&&Xt(function(e){tn.all(e)['catch'](on)})),Zt,{all:function(e){var t=this,n=an(t),o=n.resolve,a=n.reject,r=Dt(function(){var n=[],r=0,i=1;xt(e,!1,function(e){var s=r++,l=!1;n.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--i||o(n))},a)}),--i||o(n)});return r.e&&a(r.v),n.promise},race:function(e){var t=this,n=an(t),o=n.reject,a=Dt(function(){xt(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return a.e&&o(a.v),n.promise}}),G(G.P+G.R,'Promise',{finally:function(t){var n=vt(this,x.Promise||_.Promise),e='function'==typeof t;return this.then(e?function(e){return zt(n,t()).then(function(){return e})}:t,e?function(o){return zt(n,t()).then(function(){throw o})}:t)}}),G(G.S,'Promise',{try:function(e){var t=Gt.f(this),n=Dt(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}});var gn=x.Promise,hn=t(function(e){e.exports={default:gn,__esModule:!0}});e(hn);var yn=t(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(hn);t.default=function(e){return function(){var t=e.apply(this,arguments);return new n.default(function(e,o){function a(r,i){try{var s=t[r](i),l=s.value}catch(e){return void o(e)}return s.done?void e(l):n.default.resolve(l).then(function(e){a('next',e)},function(e){a('throw',e)})}return a('next')})}}}),_n=e(yn),xn=t(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}}),mn=e(xn);G(G.S+G.F*!T,'Object',{defineProperty:M.f});var vn=x.Object,Sn=function(e,t,n){return vn.defineProperty(e,t,n)},On=t(function(e){e.exports={default:Sn,__esModule:!0}});e(On);var kn=t(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(On);t.default=function(){function e(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()}),Rn=e(kn),Tn=function(){function e(n,a,r,i){mn(this,e),this.RoughSegmentRelationConst=o(),this.px1=n,this.py1=a,this.px2=r,this.py2=i,this.xi=t,this.yi=t,this.a=i-a,this.b=n-r,this.c=r*a-n*i,this._undefined=0==this.a&&0==this.b&&0==this.c}var t=Number.MAX_VALUE;return Rn(e,[{key:'isUndefined',value:function(){return this._undefined}},{key:'compare',value:function(e){if(this.isUndefined()||e.isUndefined())return this.RoughSegmentRelationConst.UNDEFINED;var n=t,o=t,r=0,i=0,l=this.a,p=this.b,d=this.c;return(1e-5<u(p)&&(n=-l/p,r=-d/p),1e-5<u(e.b)&&(o=-e.a/e.b,i=-e.c/e.b),n==t)?o==t?-d/l==-e.c/e.a?this.py1>=h(e.py1,e.py2)&&this.py1<=s(e.py1,e.py2)?(this.xi=this.px1,this.yi=this.py1,this.RoughSegmentRelationConst.INTERSECTS):this.py2>=h(e.py1,e.py2)&&this.py2<=s(e.py1,e.py2)?(this.xi=this.px2,this.yi=this.py2,this.RoughSegmentRelationConst.INTERSECTS):this.RoughSegmentRelationConst.SEPARATE:this.RoughSegmentRelationConst.SEPARATE:(this.xi=this.px1,this.yi=o*this.xi+i,-1e-5>(this.py1-this.yi)*(this.yi-this.py2)||-1e-5>(e.py1-this.yi)*(this.yi-e.py2)?this.RoughSegmentRelationConst.SEPARATE:1e-5>u(e.a)?-1e-5>(e.px1-this.xi)*(this.xi-e.px2)?this.RoughSegmentRelationConst.SEPARATE:this.RoughSegmentRelationConst.INTERSECTS:this.RoughSegmentRelationConst.INTERSECTS):o==t?(this.xi=e.px1,this.yi=n*this.xi+r,-1e-5>(e.py1-this.yi)*(this.yi-e.py2)||-1e-5>(this.py1-this.yi)*(this.yi-this.py2)?this.RoughSegmentRelationConst.SEPARATE:1e-5>u(l)?-1e-5>(this.px1-this.xi)*(this.xi-this.px2)?this.RoughSegmentRelationConst.SEPARATE:this.RoughSegmentRelationConst.INTERSECTS:this.RoughSegmentRelationConst.INTERSECTS):n==o?r==i?this.px1>=h(e.px1,e.px2)&&this.px1<=s(e.py1,e.py2)?(this.xi=this.px1,this.yi=this.py1,this.RoughSegmentRelationConst.INTERSECTS):this.px2>=h(e.px1,e.px2)&&this.px2<=s(e.px1,e.px2)?(this.xi=this.px2,this.yi=this.py2,this.RoughSegmentRelationConst.INTERSECTS):this.RoughSegmentRelationConst.SEPARATE:this.RoughSegmentRelationConst.SEPARATE:(this.xi=(i-r)/(n-o),this.yi=n*this.xi+r,-1e-5>(this.px1-this.xi)*(this.xi-this.px2)||-1e-5>(e.px1-this.xi)*(this.xi-e.px2)?this.RoughSegmentRelationConst.SEPARATE:this.RoughSegmentRelationConst.INTERSECTS)}},{key:'getLength',value:function(){return this._getLength(this.px1,this.py1,this.px2,this.py2)}},{key:'_getLength',value:function(e,t,n,o){var a=n-e,r=o-t;return d(a*a+r*r)}}]),e}(),Pn=function(){function e(t,n,o,a,r,i,s,l){mn(this,e),this.top=t,this.bottom=n,this.left=o,this.right=a,this.gap=r,this.sinAngle=i,this.tanAngle=l,1e-4>u(i)?this.pos=o+r:.9999<u(i)?this.pos=t+r:(this.deltaX=(n-t)*u(l),this.pos=o-u(this.deltaX),this.hGap=u(r/s),this.sLeft=new Tn(o,n,o,t),this.sRight=new Tn(a,n,a,t))}return Rn(e,[{key:'getNextLine',value:function(){if(1e-4>u(this.sinAngle)){if(this.pos<this.right){var e=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,e}}else if(!(.9999<u(this.sinAngle))){var t=this.pos-this.deltaX/2,n=this.pos+this.deltaX/2,a=this.bottom,r=this.top;if(this.pos<this.right+this.deltaX){for(;t<this.left&&n<this.left||t>this.right&&n>this.right;)if(this.pos+=this.hGap,t=this.pos-this.deltaX/2,n=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var i=new Tn(t,a,n,r);i.compare(this.sLeft)==o().INTERSECTS&&(t=i.xi,a=i.yi),i.compare(this.sRight)==o().INTERSECTS&&(n=i.xi,r=i.yi),0<this.tanAngle&&(t=this.right-(t-this.left),n=this.right-(n-this.left));var s=[t,a,n,r];return this.pos+=this.hGap,s}}else if(this.pos<this.bottom){var l=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,l}return null}}]),e}(),En=function(){function e(t,n){mn(this,e),this.type=t,this.text=n}return Rn(e,[{key:'isType',value:function(e){return this.type===e}}]),e}(),bn=function(){function e(t){mn(this,e),this.PARAMS={A:['rx','ry','x-axis-rotation','large-arc-flag','sweep-flag','x','y'],a:['rx','ry','x-axis-rotation','large-arc-flag','sweep-flag','x','y'],C:['x1','y1','x2','y2','x','y'],c:['x1','y1','x2','y2','x','y'],H:['x'],h:['x'],L:['x','y'],l:['x','y'],M:['x','y'],m:['x','y'],Q:['x1','y1','x','y'],q:['x1','y1','x','y'],S:['x2','y2','x','y'],s:['x2','y2','x','y'],T:['x','y'],t:['x','y'],V:['y'],v:['y'],Z:[],z:[]},this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.d=t||'',this.parseData(t),this.processPoints()}return Rn(e,[{key:'loadFromSegments',value:function(e){this.segments=e,this.processPoints()}},{key:'processPoints',value:function(){for(var e,t=null,n=[0,0],o=0;o<this.segments.length;o++){switch(e=this.segments[o],e.key){case'M':case'L':case'T':e.point=[e.data[0],e.data[1]];break;case'm':case'l':case't':e.point=[e.data[0]+n[0],e.data[1]+n[1]];break;case'H':e.point=[e.data[0],n[1]];break;case'h':e.point=[e.data[0]+n[0],n[1]];break;case'V':e.point=[n[0],e.data[0]];break;case'v':e.point=[n[0],e.data[0]+n[1]];break;case'z':case'Z':t&&(e.point=[t[0],t[1]]);break;case'C':e.point=[e.data[4],e.data[5]];break;case'c':e.point=[e.data[4]+n[0],e.data[5]+n[1]];break;case'S':e.point=[e.data[2],e.data[3]];break;case's':e.point=[e.data[2]+n[0],e.data[3]+n[1]];break;case'Q':e.point=[e.data[2],e.data[3]];break;case'q':e.point=[e.data[2]+n[0],e.data[3]+n[1]];break;case'A':e.point=[e.data[5],e.data[6]];break;case'a':e.point=[e.data[5]+n[0],e.data[6]+n[1]];}('m'===e.key||'M'===e.key)&&(t=null),e.point&&(n=e.point,!t&&(t=e.point)),('z'===e.key||'Z'===e.key)&&(t=null)}}},{key:'parseData',value:function(e){var t=this.tokenize(e),n=0,o=t[n],a='BOD';for(this.segments=[];!o.isType(this.EOD);){var r,s=[];if('BOD'!=a)o.isType(this.NUMBER)?r=this.PARAMS[a].length:(n++,r=this.PARAMS[o.text].length,a=o.text);else if('M'==o.text||'m'==o.text)n++,r=this.PARAMS[o.text].length,a=o.text;else return this.parseData('M0,0'+e);if(n+r<t.length){for(var l,p=n;p<n+r;p++)if(l=t[p],l.isType(this.NUMBER))s[s.length]=l.text;else return void console.error('Parameter type is not a number: '+a+','+l.text);var i;if(this.PARAMS[a])i={key:a,data:s};else return void console.error('Unsupported segment type: '+a);this.segments.push(i),n+=r,o=t[n],'M'==a&&(a='L'),'m'==a&&(a='l')}else console.error('Path data ended before all parameters were found')}}},{key:'tokenize',value:function(e){for(var t=[];''!=e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]=new En(this.COMMAND,RegExp.$1),e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]=new En(this.NUMBER,parseFloat(RegExp.$1)),e=e.substr(RegExp.$1.length);else return console.error('Unrecognized segment command: '+e),null;return t[t.length]=new En(this.EOD,null),t}},{key:'closed',get:function(){if('undefined'==typeof this._closed){this._closed=!1;var e,t=!0,n=!1;try{for(var o,a,r=rt(this.segments);!(t=(o=r.next()).done);t=!0)a=o.value,'z'===a.key.toLowerCase()&&(this._closed=!0)}catch(t){n=!0,e=t}finally{try{!t&&r.return&&r.return()}finally{if(n)throw e}}}return this._closed}}]),e}(),Ln=function(){function e(t){mn(this,e),this.d=t,this.parsed=new bn(t),this._position=[0,0],this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this._first=null}return Rn(e,[{key:'setPosition',value:function(e,t){this._position=[e,t],this._first||(this._first=[e,t])}},{key:'segments',get:function(){return this.parsed.segments}},{key:'closed',get:function(){return this.parsed.closed}},{key:'linearPoints',get:function(){if(!this._linearPoints){var e,t=[],n=[],o=!0,a=!1;try{for(var r,i=rt(this.parsed.segments);!(o=(r=i.next()).done);o=!0){var l=r.value,s=l.key.toLowerCase();('m'===s||'z'===s)&&(n.length&&(t.push(n),n=[]),'z'===s)||l.point&&n.push(l.point)}}catch(t){a=!0,e=t}finally{try{!o&&i.return&&i.return()}finally{if(a)throw e}}n.length&&(t.push(n),n=[]),this._linearPoints=t}return this._linearPoints}},{key:'first',get:function(){return this._first},set:function(e){this._first=e}},{key:'position',get:function(){return this._position}},{key:'x',get:function(){return this._position[0]}},{key:'y',get:function(){return this._position[1]}}]),e}(),An=function(){function e(t,n,o,a,i,c){mn(this,e);var f=p/180;if(this._segIndex=0,this._numSegs=0,t[0]!=n[0]||t[1]!=n[1]){this._rx=u(o[0]),this._ry=u(o[1]),this._sinPhi=l(a*f),this._cosPhi=r(a*f);var g,h=this._cosPhi*(t[0]-n[0])/2+this._sinPhi*(t[1]-n[1])/2,_=-this._sinPhi*(t[0]-n[0])/2+this._cosPhi*(t[1]-n[1])/2,x=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*_*_-this._ry*this._ry*h*h;if(0>x){var m=d(1-x/(this._rx*this._rx*this._ry*this._ry));this._rx=m,this._ry=m,g=0}else g=(i==c?-1:1)*d(x/(this._rx*this._rx*_*_+this._ry*this._ry*h*h));var s=g*this._rx*_/this._ry,v=-g*this._ry*h/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*s-this._sinPhi*v+(t[0]+n[0])/2,this._C[1]=this._sinPhi*s+this._cosPhi*v+(t[1]+n[1])/2,this._theta=this.calculateVectorAngle(1,0,(h-s)/this._rx,(_-v)/this._ry);var S=this.calculateVectorAngle((h-s)/this._rx,(_-v)/this._ry,(-h-s)/this._rx,(-_-v)/this._ry);!c&&0<S?S-=2*p:c&&0>S&&(S+=2*p),this._numSegs=y(u(S/(p/2))),this._delta=S/this._numSegs,this._T=8/3*l(this._delta/4)*l(this._delta/4)/l(this._delta/2),this._from=t}}return Rn(e,[{key:'getNextSegment',value:function(){var e,t,n;if(this._segIndex==this._numSegs)return null;var o=r(this._theta),a=l(this._theta),i=this._theta+this._delta,s=r(i),p=l(i);return n=[this._cosPhi*this._rx*s-this._sinPhi*this._ry*p+this._C[0],this._sinPhi*this._rx*s+this._cosPhi*this._ry*p+this._C[1]],e=[this._from[0]+this._T*(-this._cosPhi*this._rx*a-this._sinPhi*this._ry*o),this._from[1]+this._T*(-this._sinPhi*this._rx*a+this._cosPhi*this._ry*o)],t=[n[0]+this._T*(this._cosPhi*this._rx*p+this._sinPhi*this._ry*s),n[1]+this._T*(this._sinPhi*this._rx*p-this._cosPhi*this._ry*s)],this._theta=i,this._from=[n[0],n[1]],this._segIndex++,{cp1:e,cp2:t,to:n}}},{key:'calculateVectorAngle',value:function(e,t,n,o){var a=Math.atan2,r=a(t,e),i=a(o,n);return i>=r?i-r:2*p-(r-i)}}]),e}(),wn=function(){function e(t,n){mn(this,e),this.sets=t,this.closed=n}return Rn(e,[{key:'fit',value:function(e){var t,n=[],o=!0,a=!1;try{for(var r,s=rt(this.sets);!(o=(r=s.next()).done);o=!0){var l=r.value,p=l.length,u=c(e*p);if(5>u){if(5>=p)continue;u=5}n.push(this.reduce(l,u))}}catch(e){a=!0,t=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw t}}var f,g='',d=!0,h=!1;try{for(var y,_,x=rt(n);!(d=(y=x.next()).done);d=!0){_=y.value;for(var m,v=0;v<_.length;v++)m=_[v],g+=0===v?'M'+m[0]+','+m[1]:'L'+m[0]+','+m[1];this.closed&&(g+='z ')}}catch(e){h=!0,f=e}finally{try{!d&&x.return&&x.return()}finally{if(h)throw f}}return g}},{key:'distance',value:function(e,t){return d(a(e[0]-t[0],2)+a(e[1]-t[1],2))}},{key:'reduce',value:function(e,t){if(e.length<=t)return e;for(var n=e.slice(0);n.length>t;){for(var o=-1,r=-1,l=1;l<n.length-1;l++){var i=this.distance(n[l-1],n[l]),a=this.distance(n[l],n[l+1]),p=this.distance(n[l-1],n[l+1]),c=(i+a+p)/2,s=d(c*(c-i)*(c-a)*(c-p));(0>o||s<o)&&(o=s,r=l)}if(0<r)n.splice(r,1);else break}return n}}]),e}(),Cn=function(){function e(){mn(this,e)}var t=Math.tan;return Rn(e,[{key:'line',value:function(e,t,n,a,r){var o=this._doubleLine(e,t,n,a,r);return{type:'path',ops:o}}},{key:'linearPath',value:function(e,t,n){var o=(e||[]).length;if(2<o){for(var a=[],r=0;r<o-1;r++)a=a.concat(this._doubleLine(e[r][0],e[r][1],e[r+1][0],e[r+1][1],n));return t&&(a=a.concat(this._doubleLine(e[o-1][0],e[o-1][1],e[0][0],e[0][1],n))),{type:'path',ops:a}}return 2===o?this.line(e[0][0],e[0][1],e[1][0],e[1][1],n):void 0}},{key:'polygon',value:function(e,t){return this.linearPath(e,!0,t)}},{key:'rectangle',value:function(e,t,n,a,r){return this.polygon([[e,t],[e+n,t],[e+n,t+a],[e,t+a]],r)}},{key:'curve',value:function(e,t){var n=this._curveWithOffset(e,1*(1+.2*t.roughness),t),o=this._curveWithOffset(e,1.5*(1+.22*t.roughness),t);return{type:'path',ops:n.concat(o)}}},{key:'ellipse',value:function(e,t,n,a,r){var o=2*p/r.curveStepCount,i=u(n/2),s=u(a/2);i+=this._getOffset(.05*-i,.05*i,r),s+=this._getOffset(.05*-s,.05*s,r);var l=this._ellipse(o,e,t,i,s,1,o*this._getOffset(.1,this._getOffset(.4,1,r),r),r),c=this._ellipse(o,e,t,i,s,1.5,0,r);return{type:'path',ops:l.concat(c)}}},{key:'arc',value:function(e,t,n,a,i,s,c,d,f){var o=e,g=t,y=u(n/2),_=u(a/2);y+=this._getOffset(.01*-y,.01*y,f),_+=this._getOffset(.01*-_,.01*_,f);for(var x=i,m=s;0>x;)x+=2*p,m+=2*p;m-x>2*p&&(x=0,m=2*p);var v=2*p/f.curveStepCount,S=h(v/2,(m-x)/2),O=this._arc(S,o,g,y,_,x,m,1,f),k=this._arc(S,o,g,y,_,x,m,1.5,f),R=O.concat(k);return c&&(d?(R=R.concat(this._doubleLine(o,g,o+y*r(x),g+_*l(x),f)),R=R.concat(this._doubleLine(o,g,o+y*r(m),g+_*l(m),f))):(R.push({op:'lineTo',data:[o,g]}),R.push({op:'lineTo',data:[o+y*r(x),g+_*l(x)]}))),{type:'path',ops:R}}},{key:'hachureFillArc',value:function(e,t,n,a,i,s,c){var o=e,d=t,f=u(n/2),g=u(a/2);f+=this._getOffset(.01*-f,.01*f,c),g+=this._getOffset(.01*-g,.01*g,c);for(var h=i,y=s;0>h;)h+=2*p,y+=2*p;y-h>2*p&&(h=0,y=2*p);for(var _=(y-h)/c.curveStepCount,x=[],m=[],v=h;v<=y;v+=_)x.push(o+f*r(v)),m.push(d+g*l(v));return x.push(o+f*r(y)),m.push(d+g*l(y)),x.push(o),m.push(d),this.hachureFillShape(x,m,c)}},{key:'solidFillShape',value:function(e,t,n){var o=[];if(e&&t&&e.length&&t.length&&e.length===t.length){var a=n.maxRandomnessOffset||0,r=e.length;if(2<r){o.push({op:'move',data:[e[0]+this._getOffset(-a,a,n),t[0]+this._getOffset(-a,a,n)]});for(var s=1;s<r;s++)o.push({op:'lineTo',data:[e[s]+this._getOffset(-a,a,n),t[s]+this._getOffset(-a,a,n)]})}}return{type:'fillPath',ops:o}}},{key:'hachureFillShape',value:function(e,n,a){var o=[];if(e&&n&&e.length&&n.length){for(var c=e[0],d=e[0],u=n[0],f=n[0],g=1;g<e.length;g++)c=h(c,e[g]),d=s(d,e[g]),u=h(u,n[g]),f=s(f,n[g]);var i=a.hachureAngle,y=a.hachureGap;0>y&&(y=4*a.strokeWidth),y=s(y,.1);for(var _,x=i%180*(p/180),m=r(x),v=l(x),S=t(x),O=new Pn(u-1,f+1,c-1,d+1,y,v,m,S);null!=(_=O.getNextLine());)for(var k=this._getIntersectingLines(_,e,n),R=0;R<k.length;R++)if(R<k.length-1){var T=k[R],P=k[R+1];o=o.concat(this._doubleLine(T[0],T[1],P[0],P[1],a))}}return{type:'path',ops:o}}},{key:'hachureFillEllipse',value:function(e,n,a,r,i){var o=[],s=u(a/2),l=u(r/2);s+=this._getOffset(.05*-s,.05*s,i),l+=this._getOffset(.05*-l,.05*l,i);var c=i.hachureAngle,f=i.hachureGap;0>=f&&(f=4*i.strokeWidth);var g=i.fillWeight;0>g&&(g=i.strokeWidth/2);for(var h=t(c%180*(p/180)),y=l/s,_=d(y*h*y*h+1),x=y*h/_,m=1/_,v=f/(s*l/d(l*m*(l*m)+s*x*(s*x))/s),S=d(s*s-(e-s+v)*(e-s+v)),O=e-s+v;O<e+s;O+=v){S=d(s*s-(e-O)*(e-O));var k=this._affine(O,n-S,e,n,x,m,y),R=this._affine(O,n+S,e,n,x,m,y);o=o.concat(this._doubleLine(k[0],k[1],R[0],R[1],i))}return{type:'path',ops:o}}},{key:'svgPath',value:function(e,t){e=(e||'').replace(/\n/g,' ').replace(/(-)/g,' -').replace(/(-\s)/g,'-').replace('/(ss)/g',' ');var n=new Ln(e);if(t.simplification){var o=new wn(n.linearPoints,n.closed),a=o.fit(t.simplification);n=new Ln(a)}for(var r=[],l=n.segments||[],p=0;p<l.length;p++){var i=l[p],s=0<p?l[p-1]:null,c=this._processSegment(n,i,s,t);c&&c.length&&(r=r.concat(c))}return{type:'path',ops:r}}},{key:'_bezierTo',value:function(e,t,n,a,r,s,l,p){for(var o=[],c=[p.maxRandomnessOffset||1,(p.maxRandomnessOffset||1)+.5],d=null,u=0;2>u;u++)0===u?o.push({op:'move',data:[l.x,l.y]}):o.push({op:'move',data:[l.x+this._getOffset(-c[0],c[0],p),l.y+this._getOffset(-c[0],c[0],p)]}),d=[r+this._getOffset(-c[u],c[u],p),s+this._getOffset(-c[u],c[u],p)],o.push({op:'bcurveTo',data:[e+this._getOffset(-c[u],c[u],p),t+this._getOffset(-c[u],c[u],p),n+this._getOffset(-c[u],c[u],p),a+this._getOffset(-c[u],c[u],p),d[0],d[1]]});return l.setPosition(d[0],d[1]),o}},{key:'_processSegment',value:function(e,t,n,a){var o=[];switch(t.key){case'M':case'm':{var r='m'===t.key;if(2<=t.data.length){var s=+t.data[0],l=+t.data[1];r&&(s+=e.x,l+=e.y);var p=1*(a.maxRandomnessOffset||0);s+=this._getOffset(-p,p,a),l+=this._getOffset(-p,p,a),e.setPosition(s,l),o.push({op:'move',data:[s,l]})}break}case'L':case'l':{var c='l'===t.key;if(2<=t.data.length){var d=+t.data[0],u=+t.data[1];c&&(d+=e.x,u+=e.y),o=o.concat(this._doubleLine(e.x,e.y,d,u,a)),e.setPosition(d,u)}break}case'H':case'h':{var g='h'===t.key;if(t.data.length){var h=+t.data[0];g&&(h+=e.x),o=o.concat(this._doubleLine(e.x,e.y,h,e.y,a)),e.setPosition(h,e.y)}break}case'V':case'v':{var y='v'===t.key;if(t.data.length){var _=+t.data[0];y&&(_+=e.y),o=o.concat(this._doubleLine(e.x,e.y,e.x,_,a)),e.setPosition(e.x,_)}break}case'Z':case'z':{e.first&&(o=o.concat(this._doubleLine(e.x,e.y,e.first[0],e.first[1],a)),e.setPosition(e.first[0],e.first[1]),e.first=null);break}case'C':case'c':{var x='c'===t.key;if(6<=t.data.length){var m=+t.data[0],v=+t.data[1],S=+t.data[2],O=+t.data[3],k=+t.data[4],R=+t.data[5];x&&(m+=e.x,S+=e.x,k+=e.x,v+=e.y,O+=e.y,R+=e.y);var T=this._bezierTo(m,v,S,O,k,R,e,a);o=o.concat(T),e.bezierReflectionPoint=[k+(k-S),R+(R-O)]}break}case'S':case's':{var P='s'===t.key;if(4<=t.data.length){var E=+t.data[0],b=+t.data[1],L=+t.data[2],A=+t.data[3];P&&(E+=e.x,L+=e.x,b+=e.y,A+=e.y);var w=E,C=b,M=n?n.key:'',I=null;('c'==M||'C'==M||'s'==M||'S'==M)&&(I=e.bezierReflectionPoint),I&&(w=I[0],C=I[1]);var N=this._bezierTo(w,C,E,b,L,A,e,a);o=o.concat(N),e.bezierReflectionPoint=[L+(L-E),A+(A-b)]}break}case'Q':case'q':{var F='q'===t.key;if(4<=t.data.length){var j=+t.data[0],G=+t.data[1],D=+t.data[2],z=+t.data[3];F&&(j+=e.x,D+=e.x,G+=e.y,z+=e.y);var U=1*(1+.2*a.roughness),W=1.5*(1+.22*a.roughness);o.push({op:'move',data:[e.x+this._getOffset(-U,U,a),e.y+this._getOffset(-U,U,a)]});var q=[D+this._getOffset(-U,U,a),z+this._getOffset(-U,U,a)];o.push({op:'qcurveTo',data:[j+this._getOffset(-U,U,a),G+this._getOffset(-U,U,a),q[0],q[1]]}),o.push({op:'move',data:[e.x+this._getOffset(-W,W,a),e.y+this._getOffset(-W,W,a)]}),q=[D+this._getOffset(-W,W,a),z+this._getOffset(-W,W,a)],o.push({op:'qcurveTo',data:[j+this._getOffset(-W,W,a),G+this._getOffset(-W,W,a),q[0],q[1]]}),e.setPosition(q[0],q[1]),e.quadReflectionPoint=[D+(D-j),z+(z-G)]}break}case'T':case't':{var f='t'===t.key;if(2<=t.data.length){var $=+t.data[0],H=+t.data[1];f&&($+=e.x,H+=e.y);var B=$,V=H,Y=n?n.key:'',I=null;('q'==Y||'Q'==Y||'t'==Y||'T'==Y)&&(I=e.quadReflectionPoint),I&&(B=I[0],V=I[1]);var X=1*(1+.2*a.roughness),K=1.5*(1+.22*a.roughness);o.push({op:'move',data:[e.x+this._getOffset(-X,X,a),e.y+this._getOffset(-X,X,a)]});var Q=[$+this._getOffset(-X,X,a),H+this._getOffset(-X,X,a)];o.push({op:'qcurveTo',data:[B+this._getOffset(-X,X,a),V+this._getOffset(-X,X,a),Q[0],Q[1]]}),o.push({op:'move',data:[e.x+this._getOffset(-K,K,a),e.y+this._getOffset(-K,K,a)]}),Q=[$+this._getOffset(-K,K,a),H+this._getOffset(-K,K,a)],o.push({op:'qcurveTo',data:[B+this._getOffset(-K,K,a),V+this._getOffset(-K,K,a),Q[0],Q[1]]}),e.setPosition(Q[0],Q[1]),e.quadReflectionPoint=[$+($-B),H+(H-V)]}break}case'A':case'a':{var Z='a'===t.key;if(7<=t.data.length){var J=+t.data[0],ee=+t.data[1],te=+t.data[2],ne=+t.data[3],oe=+t.data[4],ae=+t.data[5],re=+t.data[6];if(Z&&(ae+=e.x,re+=e.y),ae==e.x&&re==e.y)break;if(0==J||0==ee)o=o.concat(this._doubleLine(e.x,e.y,ae,re,a)),e.setPosition(ae,re);else for(var ie=a.maxRandomnessOffset||0,se=0;1>se;se++)for(var i,le=new An([e.x,e.y],[ae,re],[J,ee],te,!!ne,!!oe),pe=le.getNextSegment();pe;)i=this._bezierTo(pe.cp1[0],pe.cp1[1],pe.cp2[0],pe.cp2[1],pe.to[0],pe.to[1],e,a),o=o.concat(i),pe=le.getNextSegment()}break}default:}return o}},{key:'_getOffset',value:function(e,t,n){return n.roughness*(Math.random()*(t-e)+e)}},{key:'_affine',value:function(e,t,n,o,a,r,i){return[-n*r-o*a+n+r*e+a*t,i*(n*a-o*r)+o+-i*a*e+i*r*t]}},{key:'_doubleLine',value:function(e,t,n,a,r){var o=this._line(e,t,n,a,r,!0,!1),i=this._line(e,t,n,a,r,!0,!0);return o.concat(i)}},{key:'_line',value:function(e,t,n,r,i,o,s){var l=a(e-n,2)+a(t-r,2),p=i.maxRandomnessOffset||0;100*(p*p)>l&&(p=d(l)/10);var c=p/2,u=.2+.2*Math.random(),f=i.bowing*i.maxRandomnessOffset*(r-t)/200,g=i.bowing*i.maxRandomnessOffset*n/200;f=this._getOffset(-f,f,i),g=this._getOffset(-g,g,i);var h=[];return o&&(s?h.push({op:'move',data:[e+this._getOffset(-c,c,i),t+this._getOffset(-c,c,i)]}):h.push({op:'move',data:[e+this._getOffset(-p,p,i),t+this._getOffset(-p,p,i)]})),s?h.push({op:'bcurveTo',data:[f+e+(n-e)*u+this._getOffset(-c,c,i),g+t+(r-t)*u+this._getOffset(-c,c,i),f+e+2*(n-e)*u+this._getOffset(-c,c,i),g+t+2*(r-t)*u+this._getOffset(-c,c,i),n+this._getOffset(-c,c,i),r+this._getOffset(-c,c,i)]}):h.push({op:'bcurveTo',data:[f+e+(n-e)*u+this._getOffset(-p,p,i),g+t+(r-t)*u+this._getOffset(-p,p,i),f+e+2*(n-e)*u+this._getOffset(-p,p,i),g+t+2*(r-t)*u+this._getOffset(-p,p,i),n+this._getOffset(-p,p,i),r+this._getOffset(-p,p,i)]}),h}},{key:'_curve',value:function(e,t,n){var o=e.length,a=[];if(3<o){var r=[],l=1-n.curveTightness;a.push({op:'move',data:[e[1][0],e[1][1]]});for(var s,p=1;p+2<o;p++)s=e[p],r[0]=[s[0],s[1]],r[1]=[s[0]+(l*e[p+1][0]-l*e[p-1][0])/6,s[1]+(l*e[p+1][1]-l*e[p-1][1])/6],r[2]=[e[p+1][0]+(l*e[p][0]-l*e[p+2][0])/6,e[p+1][1]+(l*e[p][1]-l*e[p+2][1])/6],r[3]=[e[p+1][0],e[p+1][1]],a.push({op:'bcurveTo',data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]});if(t&&2===t.length){var i=n.maxRandomnessOffset;a.push({ops:'lineTo',data:[t[0]+this._getOffset(-i,i,n),t[1]+ +this._getOffset(-i,i,n)]})}}else 3===o?(a.push({op:'move',data:[e[1][0],e[1][1]]}),a.push({op:'bcurveTo',data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===o&&(a=a.concat(this._doubleLine(e[0][0],e[0][1],e[1][0],e[1][1],n)));return a}},{key:'_ellipse',value:function(e,t,n,a,i,s,c,d){var o=this._getOffset(-.5,.5,d)-p/2,u=[];u.push([this._getOffset(-s,s,d)+t+.9*a*r(o-e),this._getOffset(-s,s,d)+n+.9*i*l(o-e)]);for(var f=o;f<2*p+o-.01;f+=e)u.push([this._getOffset(-s,s,d)+t+a*r(f),this._getOffset(-s,s,d)+n+i*l(f)]);return u.push([this._getOffset(-s,s,d)+t+a*r(o+2*p+.5*c),this._getOffset(-s,s,d)+n+i*l(o+2*p+.5*c)]),u.push([this._getOffset(-s,s,d)+t+.98*a*r(o+c),this._getOffset(-s,s,d)+n+.98*i*l(o+c)]),u.push([this._getOffset(-s,s,d)+t+.9*a*r(o+.5*c),this._getOffset(-s,s,d)+n+.9*i*l(o+.5*c)]),this._curve(u,null,d)}},{key:'_curveWithOffset',value:function(e,t,n){for(var o=[[e[0][0]+this._getOffset(-t,t,n),e[0][1]+this._getOffset(-t,t,n)],[e[0][0]+this._getOffset(-t,t,n),e[0][1]+this._getOffset(-t,t,n)]],a=1;a<e.length;a++)o.push([e[a][0]+this._getOffset(-t,t,n),e[a][1]+this._getOffset(-t,t,n)]),a===e.length-1&&o.push([e[a][0]+this._getOffset(-t,t,n),e[a][1]+this._getOffset(-t,t,n)]);return this._curve(o,null,n)}},{key:'_arc',value:function(e,t,n,a,i,s,p,c,d){var o=s+this._getOffset(-.1,.1,d),u=[];u.push([this._getOffset(-c,c,d)+t+.9*a*r(o-e),this._getOffset(-c,c,d)+n+.9*i*l(o-e)]);for(var f=o;f<=p;f+=e)u.push([this._getOffset(-c,c,d)+t+a*r(f),this._getOffset(-c,c,d)+n+i*l(f)]);return u.push([t+a*r(p),n+i*l(p)]),u.push([t+a*r(p),n+i*l(p)]),this._curve(u,null,d)}},{key:'_getIntersectingLines',value:function(e,t,n){for(var a,r=[],s=new Tn(e[0],e[1],e[2],e[3]),l=0;l<t.length;l++)a=new Tn(t[l],n[l],t[(l+1)%t.length],n[(l+1)%t.length]),s.compare(a)==o().INTERSECTS&&r.push([s.xi,s.yi]);return r}}]),e}();self._roughScript=self.document&&self.document.currentScript&&self.document.currentScript.src;var Mn=function(){function e(t,n){mn(this,e),this.config=n||{},this.canvas=t,this.ctx=this.canvas.getContext('2d'),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:'#000',strokeWidth:1,curveTightness:0,curveStepCount:9,fill:null,fillStyle:'hachure',fillWeight:-1,hachureAngle:-41,hachureGap:-1},this.config.options&&(this.defaultOptions=this._options(this.config.options))}return Rn(e,[{key:'lib',value:function(){var e=_n(ut.mark(function e(){var t,n,o,a,r;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._renderer||(window.workly&&!this.config.noWorker?(t=Function.prototype.toString,n=this.config.worklyURL||'https://cdn.jsdelivr.net/gh/pshihn/workly/dist/workly.min.js',o=this.config.roughURL||self._roughScript,o&&n?(a='importScripts(\''+n+'\', \''+o+'\');\nworkly.expose(self.rough.createRenderer());',r=URL.createObjectURL(new Blob([a])),this._renderer=workly.proxy(r)):this._renderer=new Cn):this._renderer=new Cn),e.abrupt('return',this._renderer);case 2:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'line',value:function(){var e=_n(ut.mark(function e(t,n,a,r,i){var s,o,l;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._options(i),e.next=3,this.lib();case 3:return o=e.sent,e.next=6,o.line(t,n,a,r,s);case 6:l=e.sent,this._draw(this.ctx,l,s);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'rectangle',value:function(){var e=_n(ut.mark(function e(t,n,a,r,i){var s,o,l,p,c,d,u,f;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._options(i),e.next=3,this.lib();case 3:if(o=e.sent,!s.fill){e.next=19;break}if(l=this.ctx,p=[t,t+a,t+a,t],c=[n,n,n+r,n+r],'solid'!==s.fillStyle){e.next=15;break}return e.next=11,o.solidFillShape(p,c,s);case 11:d=e.sent,this._fill(l,d,s),e.next=19;break;case 15:return e.next=17,o.hachureFillShape(p,c,s);case 17:u=e.sent,this._fillSketch(l,u,s);case 19:return e.next=21,o.rectangle(t,n,a,r,s);case 21:f=e.sent,this._draw(this.ctx,f,s);case 23:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'ellipse',value:function(){var e=_n(ut.mark(function e(t,n,a,r,i){var s,o,l,p,c;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._options(i),e.next=3,this.lib();case 3:if(o=e.sent,!s.fill){e.next=16;break}if('solid'!==s.fillStyle){e.next=12;break}return e.next=8,o.ellipse(t,n,a,r,s);case 8:l=e.sent,this._fill(this.ctx,l,s),e.next=16;break;case 12:return e.next=14,o.hachureFillEllipse(t,n,a,r,s);case 14:p=e.sent,this._fillSketch(this.ctx,p,s);case 16:return e.next=18,o.ellipse(t,n,a,r,s);case 18:c=e.sent,this._draw(this.ctx,c,s);case 20:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'circle',value:function(){var e=_n(ut.mark(function e(t,n,o,a){return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ellipse(t,n,o,o,a);case 2:return e.abrupt('return',e.sent);case 3:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'linearPath',value:function(){var e=_n(ut.mark(function e(t,n){var a,o,r;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._options(n),e.next=3,this.lib();case 3:return o=e.sent,e.next=6,o.linearPath(t,!1,a);case 6:r=e.sent,this._draw(this.ctx,r,a);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'polygon',value:function(){var e=_n(ut.mark(function e(t,n){var a,o,r,i,s,l,c,d,u,f,p,g,h;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._options(n),e.next=3,this.lib();case 3:if(o=e.sent,!a.fill){e.next=36;break}for(r=[],i=[],s=!0,l=!1,c=void 0,e.prev=9,d=rt(t);!(s=(u=d.next()).done);s=!0)f=u.value,r.push(f[0]),i.push(f[1]);e.next=17;break;case 13:e.prev=13,e.t0=e['catch'](9),l=!0,c=e.t0;case 17:e.prev=17,e.prev=18,!s&&d.return&&d.return();case 20:if(e.prev=20,!l){e.next=23;break}throw c;case 23:return e.finish(20);case 24:return e.finish(17);case 25:if('solid'!==a.fillStyle){e.next=32;break}return e.next=28,o.solidFillShape(r,i,a);case 28:p=e.sent,this._fill(this.ctx,p,a),e.next=36;break;case 32:return e.next=34,o.hachureFillShape(r,i,a);case 34:g=e.sent,this._fillSketch(this.ctx,g,a);case 36:return e.next=38,o.linearPath(t,!0,a);case 38:h=e.sent,this._draw(this.ctx,h,a);case 40:case'end':return e.stop();}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(){return e.apply(this,arguments)}}()},{key:'arc',value:function(){var e=_n(ut.mark(function e(t,n,a,r,i,s,l,p){var c,o,d,u,f;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=this._options(p),e.next=3,this.lib();case 3:if(o=e.sent,!(l&&c.fill)){e.next=16;break}if('solid'!==c.fillStyle){e.next=12;break}return e.next=8,o.arc(t,n,a,r,i,s,!0,!1,c);case 8:d=e.sent,this._fill(this.ctx,d,c),e.next=16;break;case 12:return e.next=14,o.hachureFillArc(t,n,a,r,i,s,c);case 14:u=e.sent,this._fillSketch(this.ctx,u,c);case 16:return e.next=18,o.arc(t,n,a,r,i,s,l,!0,c);case 18:f=e.sent,this._draw(this.ctx,f,c);case 20:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'curve',value:function(){var e=_n(ut.mark(function e(t,n){var a,o,r;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._options(n),e.next=3,this.lib();case 3:return o=e.sent,e.next=6,o.curve(t,a);case 6:r=e.sent,this._draw(this.ctx,r,a);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'path',value:function(){var e=_n(ut.mark(function e(t,n){var a,o,r,i,s,l,p,c,d,u,f,g,y,_;return ut.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt('return');case 2:return a=this._options(n),e.next=5,this.lib();case 5:if(o=e.sent,!a.fill){e.next=34;break}if('solid'!==a.fillStyle){e.next=15;break}this.ctx.save(),this.ctx.fillStyle=a.fill,r=new Path2D(t),this.ctx.fill(r),this.ctx.restore(),e.next=34;break;case 15:i=[0,0];try{s='http://www.w3.org/2000/svg',l=document.createElementNS(s,'svg'),l.setAttribute('width','0'),l.setAttribute('height','0'),p=document.createElementNS(s,'path'),p.setAttribute('d',t),l.appendChild(p),document.body.appendChild(l),c=p.getBBox(),c&&(i[0]=c.width||0,i[1]=c.height||0),document.body.removeChild(l)}catch(e){}return i[0]*i[1]||(i=[this.canvas.width||100,this.canvas.height||100]),i[0]=h(4*i[0],this.canvas.width),i[1]=h(4*i[1],this.canvas.height),d=[0,i[0],i[0],0],u=[0,0,i[1],i[1]],e.next=24,o.hachureFillShape(d,u,a);case 24:f=e.sent,g=document.createElement('canvas'),g.width=i[0],g.height=i[1],this._fillSketch(g.getContext('2d'),f,a),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(g,'repeat'),y=new Path2D(t),this.ctx.fill(y),this.ctx.restore();case 34:return e.next=36,o.svgPath(t,a);case 36:_=e.sent,this._draw(this.ctx,_,a);case 38:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'_options',value:function(e){return e?_e({},this.defaultOptions,e):this.defaultOptions}},{key:'_draw',value:function(e,t,n){e.save(),e.strokeStyle=n.stroke,e.lineWidth=n.strokeWidth,this._drawToContext(e,t),e.restore()}},{key:'_fillSketch',value:function(e,t,n){var o=n.fillWeight;0>o&&(o=n.strokeWidth/2),e.save(),e.strokeStyle=n.fill,e.lineWidth=o,this._drawToContext(e,t),e.restore()}},{key:'_fill',value:function(e,t,n){e.save(),e.fillStyle=n.fill,t.type='fillPath',this._drawToContext(e,t,n),e.restore()}},{key:'_drawToContext',value:function(e,t){if('path'===t.type||'fillPath'===t.type){e.beginPath();var n,o=!0,a=!1;try{for(var r,i=rt(t.ops);!(o=(r=i.next()).done);o=!0){var s=r.value,l=s.data;switch(s.op){case'move':e.moveTo(l[0],l[1]);break;case'bcurveTo':e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case'qcurveTo':e.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case'lineTo':e.lineTo(l[0],l[1]);}}}catch(e){a=!0,n=e}finally{try{!o&&i.return&&i.return()}finally{if(a)throw n}}'fillPath'===t.type?e.fill():e.stroke()}}}],[{key:'createRenderer',value:function(){return new Cn}}]),e}();return{canvas:function(e,t){return new Mn(e,t)},createRenderer:function(){return Mn.createRenderer()}}}();